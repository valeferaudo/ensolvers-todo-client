"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[328],{5328:function(t,n,e){e.r(n),e.d(n,{default:function(){return ot}});var o=e(9271),r=e(885),s=e(2791),a=e(6030),c="folders_container__kyLao",i="folders_table__Rs24K",u="folders_btnRed__x4Kn6",d="folders_btnGreen__0zbes",l="folders_btnEdit__Y9SQ8",h=e(9135),f=e(7650),p=function(t){return{type:f.Hn,showModal:t}},m=function(t){return{type:f.fG,modalType:t}},j=e(4942),x=e(1413),y="http://localhost:5000/api/folders",_=function(){return function(t){t({type:f.QW}),fetch(y).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(n){var e;t((e=n.data,{type:f.Z6,payload:e}))})).catch((function(){t({type:f.SN})}))}},v=function(t,n){return function(e){return e({type:f.yL}),fetch("".concat(y,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(){e(function(t,n){return{type:f.ys,payload:t,id:n}}(n))})).catch((function(){e({type:f.Rk})}))}},b=function(t){return function(n){return n({type:f.DX}),fetch(y,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;n((e=t.data,{type:f.YJ,payload:e}))})).catch((function(){n({type:f.jn})}))}},k=function(t){return function(n){return n({type:f.mF}),fetch("".concat(y,"/").concat(t)).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;return n((e=t.data,{type:f.J$,payload:e})),t.data})).catch((function(){n({type:f.C_})}))}},T=function(t){return function(n){return n({type:f.E$}),fetch("".concat(y,"/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;n((e=t.data,{type:f.bo,payload:e}))})).catch((function(){n({type:f.YW})}))}},w="form_form__oMN0Q",S=e(184);var g=function(t){var n=t.id,e=t.handleSubmit,o=t.handleShowModal,c=(0,a.I0)(),i=(0,s.useState)({title:""}),u=(0,r.Z)(i,2),d=u[0],l=u[1],h=(0,a.v9)((function(t){return t.folders.folder}));return(0,s.useEffect)((function(){n&&c(k(n)).then((function(t){l({title:t.title})}))}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("h3",{children:["Editing Folder: ",h.title]}),(0,S.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==d.title.trim()&&(e(d),o(!1))},className:w,children:[(0,S.jsx)("input",{type:"text",name:"title",onChange:function(t){var n=t.target,e=n.name,o=n.value;l((0,x.Z)((0,x.Z)({},d),{},(0,j.Z)({},e,o)))},value:d.title}),(0,S.jsx)("button",{type:"submit",children:"Save"}),(0,S.jsx)("button",{type:"button",onClick:function(){return o(!1)},children:"Cancel"})]})]})},N="http://localhost:5000/api/tasks",C=function(){return function(t){t({type:f.af}),fetch(N).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(n){var e;t((e=n.data,{type:f.RI,payload:e}))})).catch((function(){t({type:f.HD})}))}},E=function(t,n){return function(e){return e({type:f.wo}),fetch("".concat(N,"/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(){e(function(t,n){return{type:f.po,payload:t,id:n}}(n))})).catch((function(){e({type:f.sN})}))}},Z=function(t){return function(n){return n({type:f.OJ}),fetch(N,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;n((e=t.data,{type:f.Fg,payload:e}))})).catch((function(){n({type:f.HX})}))}},F=function(t){return function(n){return n({type:f.dp}),fetch("".concat(N,"/").concat(t)).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;return n((e=t.data,{type:f.rn,payload:e})),t.data})).catch((function(){n({type:f.O1})}))}},P=function(t){return function(n){return n({type:f.tg}),fetch("".concat(N,"/").concat(t),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;n((e=t.data,{type:f.jM,payload:e}))})).catch((function(){n({type:f.Ms})}))}},M=function(t){return function(n){n({type:f.x2}),fetch("".concat(N,"/folder/").concat(t)).then((function(t){if(200===t.status||201===t.status)return t.json();throw new Error("HTTP ".concat(t.status))})).then((function(t){var e;n((e=t.data,{type:f.gd,payload:e}))})).catch((function(){n({type:f.a2})}))}},H="form_form__2j-FI";var O=function(t){var n=t.id,e=t.handleSubmit,o=t.handleShowModal,c=(0,a.I0)(),i=(0,s.useState)({description:""}),u=(0,r.Z)(i,2),d=u[0],l=u[1],h=(0,a.v9)((function(t){return t.tasks.task}));return(0,s.useEffect)((function(){n&&c(F(n)).then((function(t){l({description:t.description})}))}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("h3",{children:["Editing Task: ",h.description]}),(0,S.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==d.description.trim()&&(e(d),o(!1))},className:H,children:[(0,S.jsx)("input",{type:"text",name:"description",onChange:function(t){var n=t.target,e=n.name,o=n.value;l((0,x.Z)((0,x.Z)({},d),{},(0,j.Z)({},e,o)))},value:d.description}),(0,S.jsx)("button",{type:"submit",children:"Save"}),(0,S.jsx)("button",{type:"button",onClick:function(){return o(!1)},children:"Cancel"})]})]})},D="modal_modalBackground__Utu+F",L="modal_modalContainer__sH01Z",U="modal_titleCloseBtn__c8kLK";var I=function(t){var n,e=t.handleShowModal,o=t.modalType,r=t.meta,s=t.handleSubmit;switch(o){case"task":n=(0,S.jsx)(O,{id:r,handleSubmit:s,handleShowModal:e});break;case"folder":n=(0,S.jsx)(g,{id:r,handleSubmit:s,handleShowModal:e});break;default:S.Fragment}return(0,S.jsx)("div",{className:D,children:(0,S.jsxs)("div",{className:L,children:[(0,S.jsx)("div",{className:U,children:(0,S.jsx)("button",{onClick:e,children:"X"})}),n]})})};var A=function(){var t=(0,a.I0)(),n=(0,a.v9)((function(t){return t.folders.list})),e=(0,s.useState)(""),f=(0,r.Z)(e,2),j=f[0],x=f[1],y=(0,s.useState)(""),k=(0,r.Z)(y,2),w=k[0],g=k[1],N=(0,a.v9)((function(t){return t.tasks.showModal})),C=(0,a.v9)((function(t){return t.tasks.modalType})),E=(0,o.k6)();return(0,s.useEffect)((function(){t(_())}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:c,children:[(0,S.jsx)("h3",{children:"Folders"}),(0,S.jsx)("table",{className:i,children:(0,S.jsx)("tbody",{children:n.map((function(n){return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:n.title}),(0,S.jsxs)("td",{children:[(0,S.jsx)("button",{className:l,onClick:function(){return e=n.id,t(m("folder")),g(e),void t(p(!0));var e},children:(0,S.jsx)(h.fmQ,{})}),(0,S.jsx)("button",{className:u,onClick:function(){return e=n.id,void t(T(e)).then((function(){t(_())}));var e},children:(0,S.jsx)(h.AMf,{})}),(0,S.jsx)("button",{className:d,onClick:function(){return E.push("/folder/".concat(n.id))},children:"View items"})]})]},n.id)}))})}),(0,S.jsxs)("form",{onSubmit:function(n){n.preventDefault(),""!==j.trim()&&t(b({title:j})).then((function(){t(_()),x("")}))},children:[(0,S.jsx)("input",{type:"text",onChange:function(t){x(t.target.value)},value:j,placeholder:"New Folder"}),(0,S.jsx)("button",{type:"submit",children:"Add"})]})]}),N&&(0,S.jsx)(I,{handleShowModal:function(){t(p(!1))},modalType:C,handleSubmit:function(n){t(v(n,w)).then((function(){t(_())}))},meta:w})]})},J={header:"header_header__pxf3z",superior:"header_superior__uysm3",middle:"header_middle__FJGMZ",logoContainer:"header_logoContainer__19b9P",btnLogout:"header_btnLogout__DScF8",title:"header_title__BummN",routes:"header_routes__knzZP",routesPostulants:"header_routesPostulants__g5k8P"},Q=e(1523);var R=function(t){var n=(0,o.k6)();return(0,S.jsxs)("header",{className:J.header,children:[(0,S.jsx)("div",{className:J.superior,children:(0,S.jsx)("button",{className:J.btnLogout,onClick:function(){sessionStorage.removeItem("isAuthenticated",!0),n.push("/login")},children:"LOGOUT"})}),(0,S.jsx)("div",{className:J.middle,children:(0,S.jsx)("div",{className:J.logoContainer,children:(0,S.jsx)("span",{className:J.title,children:"TO DO"})})}),(0,S.jsx)("div",{children:(0,S.jsx)("nav",{className:J.navbar,children:(0,S.jsxs)("ul",{className:J.routes,children:[(0,S.jsx)("li",{children:(0,S.jsx)(Q.rU,{to:"/tasks",children:"Tasks"})}),(0,S.jsx)("li",{children:(0,S.jsx)(Q.rU,{to:"/folders",children:"Folders"})})]})})})]})};var G=function(t){return(0,S.jsx)("footer",{children:(0,S.jsx)("span",{children:"\xa9 2022 Feraudo Valent\xedn"})})},z={};var B=function(t){return(0,S.jsxs)("div",{className:z.container,children:[(0,S.jsx)(R,{}),t.children,(0,S.jsx)(G,{})]})},K="tasks_container__2bmib",W="tasks_table__ypSbE",X="tasks_btnRed__jkDRq",Y="tasks_btnEdit__U8mms",q="tasks_completed__q8E5A",V="tasks_description__8jQ9p";var $=function(){var t=(0,a.I0)(),n=(0,a.v9)((function(t){return t.tasks.list})),e=(0,a.v9)((function(t){return t.tasks.showModal})),c=(0,a.v9)((function(t){return t.tasks.modalType})),i=(0,a.v9)((function(t){return t.folders.folder})),u=(0,s.useState)(""),d=(0,r.Z)(u,2),l=d[0],f=d[1],j=(0,s.useState)(""),y=(0,r.Z)(j,2),_=y[0],v=y[1],b=(0,o.UO)().id;return(0,s.useEffect)((function(){void 0!==b?(t(M(b)),t(k(b))):t(C())}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:K,children:[void 0!==b?(0,S.jsxs)("h3",{children:["Folders ",">"," ",i.title]}):(0,S.jsx)("h3",{children:"To-Do List"}),(0,S.jsx)("table",{className:W,children:(0,S.jsx)("tbody",{children:n.map((function(n){return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsx)("input",{type:"checkbox",checked:n.completed,onChange:function(){return function(n,e){t(E(e,n)).then((function(){t(C())}))}(n.id,(0,x.Z)((0,x.Z)({},n),{},{completed:!n.completed}))}})}),(0,S.jsx)("td",{className:n.completed?q:V,children:n.description}),(0,S.jsxs)("td",{children:[(0,S.jsx)("button",{className:Y,onClick:function(){return function(n){t(m("task")),v(n),t(p(!0))}(n.id)},children:(0,S.jsx)(h.fmQ,{})}),(0,S.jsx)("button",{className:X,onClick:function(){return e=n.id,void t(P(e)).then((function(){t(void 0!==b?M(b):C())}));var e},children:(0,S.jsx)(h.AMf,{})})]})]},n.id)}))})}),(0,S.jsxs)("form",{onSubmit:function(n){n.preventDefault(),""!==l.trim()&&t(Z({description:l,FolderId:b||null})).then((function(){t(void 0!==b?M(b):C()),f("")}))},children:[(0,S.jsx)("input",{type:"text",onChange:function(t){f(t.target.value)},value:l,placeholder:"New Task"}),(0,S.jsx)("button",{type:"submit",children:"Add"})]})]}),e&&(0,S.jsx)(I,{handleShowModal:function(){t(p(!1))},modalType:c,handleSubmit:function(n){t(E(n,_)).then((function(){t(C())}))},meta:_})]})},tt=e(5987),nt=["component"],et=function(t){var n=t.component,e=(0,tt.Z)(t,nt);return(0,s.useEffect)((function(){})),(0,S.jsx)(o.AW,(0,x.Z)((0,x.Z)({},e),{},{render:function(t){return"true"===sessionStorage.getItem("isAuthenticated")?(0,S.jsx)(n,(0,x.Z)({},t)):(0,S.jsx)(o.l_,{to:"/forbidden"})}}))},ot=function(){return(0,S.jsx)(B,{children:(0,S.jsxs)(o.rs,{children:[(0,S.jsx)(et,{path:"/tasks",exact:!0,component:$}),(0,S.jsx)(et,{path:"/folders",component:A}),(0,S.jsx)(et,{path:"/folder/:id",component:$}),(0,S.jsx)(o.l_,{to:"/",component:$})]})})}}}]);
//# sourceMappingURL=328.bf14e34e.chunk.js.map